<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#505050">
    <meta name="description" content="A translation tool for working with files in the babel-lang format.">
    <meta name="keywords" content="babel, translation, localisation, internationalisation, tooling, toolset, formatting">

    <title>Babel Translator</title>

    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <nav class="menubar">
      <h1>Babel Translator</h1>
      <div class="parent">
        <a href="#" class="menubar-item" data-action="none">File</a>
        <div class="dropdown">
          <a href="#" class="menubar-item disabled" data-action="new-language">New Language/Dialect</a>
          <hr>
          <a href="#" class="menubar-item disabled" data-action="open-file">Open file</a>
          <a href="#" class="menubar-item disabled" data-action="open-file-url">Open URL</a>
          <hr>
          <a href="#" class="menubar-item disabled" data-action="save-file">Save file</a>
        </div>
      </div>
      <div class="parent">
        <a href="#" class="menubar-item" data-action="none">View</a>
        <div class="dropdown">
          <a href="#" class="menubar-item disabled" data-action="split-view">&#10003;&#10007; Compare mode</a>
        </div>
      </div>
      <div class="parent">
        <a href="#" class="menubar-item" data-action="none">Help</a>
        <div class="dropdown">
          <a href="#" class="menubar-item" data-action="show-welcome">Getting started</a>
          <hr>
          <a href="https://github.com/yiays/Babel-Translator/blob/main/README.md" target="_blank" class="menubar-item">
            About
            <span class="menubar-item-symbols">&#8625;</span>
          </a>
        </div>
      </div>
      <div class="offline-alert" style="display:none;">
        <b>Working offline.</b>
        <a href="#" class="stealth-button" data-action="work-online">Reconnect</a>
      </div>
    </nav>

    <div class="hero menubar">
      <div class="parent">
        <a href="#" class="menubar-item" data-action="none">
          <b>Project</b>
          <br><sub class="projstate">None selected</sub>
          <span class="menubar-item-symbols">&darr;</span>
        </a>
        <div class="projectlist dropdown">
          <a href="#" class="menubar-item" data-action="select-project">
            Merelybot
            <br><progress value="30" max="100">30%</progress>
          </a>
          <a href="#" class="menubar-item" data-action="select-project">
            Confessionbot
            <br><progress value="50" max="100">50%</progress>
          </a>
        </div>
      </div>
      <hr>
      <div class="parent disabled">
        <a href="#" class="menubar-item" data-action="none">
          <b>Language</b>
          <br><sub class="langstate">N/A</sub>
          <span class="menubar-item-symbols">&darr;</span>
        </a>
        <div class="languagelist dropdown">
          <a href="#" class="menubar-item" data-action="select-language">
            English (UK)
            <br><progress value="100" max="100"> 100%</progress>
          </a>
          <hr>
          <a href="#" class="menubar-item" data-action="new-language"><i>Create new language/dialect</i></a>
        </div>
      </div>

    </div>

    <div class="editor">
      <div class="section menubar">
        <div class="parent collapsible-parent closed">
          <a href="#" class="menubar-item" data-action="toggle-section">
            <span class="dim">[</span>meta<span class="dim">]</span>
          </a>
          <div class="collapsible">
            <a href="#" class="menubar-item" data-action="select-string">
              name
            </a>
            <a href="#" class="menubar-item" data-action="select-string">
              inherit
            </a>
            <a href="#" class="menubar-item" data-action="select-string">
              contributors
            </a>
          </div>
        </div>
      </div>
      <div class="translator">
        <h2 id="breadcrumb"><span>Editor</span></h2>
        <label for="basestring">Reference</label>
        <textarea cols=80 rows="8" readonly id="basestring">Welcome to Babel Translator!</textarea>
        <label for="transstring">Translation</label>
        <textarea cols=80 rows="8" id="transstring"></textarea>
      </div>
    </div>

    <div class="modal-bg hidden modal-cancel">
      <div id="welcome" class="modal">
        <div class="modal-header">
          <h1>Welcome to Babel Translator!</h1>
        </div>
        <div class="modal-body">
          <p>
            Babel Translator is a web app that assists you with translating Babel-supported projects like
            <a href="https://github.com/yiays/ConfessionBot-2.0" target="_blank">ConfessionBot</a> and
            <a href="https://github.com/MerelyServices/Merely-Framework" target="_blank">MerelyBot</a>.
            <i>With more to come soon!</i>
          </p>
          <h2>Getting started</h2>
          <p>
            Make sure you're in the <a href="https://discord.gg/wfKx24kDUR" target="_blank">Official Support Server</a>
            and give yourself the translator role in <code>#volunteering</code>; this way you can ask for help in the <code>#translator-chat</code>.
          </p>
          <h3>Making changes</h3>
          <p>
            Select a project you want to contribute to first, then a language you can translate. This will become the active
            project in this browser and any changes you make will be saved to this browser automatically.
          </p>
          <h3>Submitting changes</h3>
          <p>
            Save your work with <code>File > Save</code>. Afterwards, you can either send the downloaded INI file to
            <code>#translator-chat</code>, or create a pull request in the relevant GitHub.
          </p>
        </div>
        <div class="modal-footer">
          <input type="checkbox" id="block-welcome">
          <label for="block-welcome" style="font-size:1rem;color:#ddd;text-transform:none;">Don't show this again</label>
          <br><br>
          <button class="btn modal-cancel">Dismiss</button>
        </div>
      </div>
    </div>

    <div class="modal-bg hidden modal-cancel">
      <form id="newlang" class="modal">
        <div class="modal-header">
          <h2>Create a new language/dialect</h2>
        </div>
        <div class="modal-body">
          <label for="newlangname">Language Name</label>
          <input type="text" id="newlangname" name="name" placeholder="English (US)" required>
          <br><label for="newlangcode">Language Code</label>
          <input type="text" id="newlangcode" name="lang" placeholder="en" required minlength="2" maxlength="3" style="width:3rem;">
          <sub>
            A 2 letter code is prefered, a 3 letter code is also accepted.
            <a href="https://www.loc.gov/standards/iso639-2/php/code_list.php" target="_blank">Find your language code &gt;</a>
          </sub>
          <br><label for="newlangcountry">Country Code (optional)</label>
          <input type="text" id="newlangcountry" name="country" placeholder="US" minlength="2" maxlength="3" style="width:3rem;">
          <sub>
            <b>Only provide a country code if this language is a dialect.</b>
            <a href="https://www.loc.gov/marc/countries/countries_code.html" target="_blank">Find your country code &gt;</a>
          </sub>
        </div>
        <div class="modal-footer">
          <input class="btn" type="submit" value="Create">
          <button class="btn modal-cancel">Cancel</button>
        </div>
      </form>
    </div>

    <div class="modal-bg hidden">
      <div id="github-timeout" class="modal">
        <div class="modal-header">
          <h1>GitHub Timeout</h1>
        </div>
        <div class="modal-body">
          <p>
            GitHub limits the amount of requests you can make to 60 per hour. This IP Address has exceeded this amount.
          </p>
          <p>
            <i>This is usually caused by refreshing the page too many times or changing projects too frequently.</i>
          </p>
          <p>
            You can either wait an hour, sign in with GitHub to increase your request limit, or work offline.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn" disabled>Sign in with GitHub unavailable</button>
          <button class="btn modal-cancel" data-action="work-offline">Work Offline</button>
        </div>
      </div>
    </div>

    <script src="https://cdn.yiays.com/jquery-3.6.0.min.js"></script>
    <script src="/main.js"></script>
  </body>
</html>